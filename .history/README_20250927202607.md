# Quiz App - Full Stack Application

Ứng dụng Quiz hoàn chỉnh với Frontend ReactJS và Backend Node.js + MongoDB Atlas, bao gồm hệ thống Admin quản lý.

## 🏗️ Cấu trúc Project

```
Quiz_App/
├── frontend/                 # Frontend ReactJS
│   ├── src/
│   │   ├── components/      # React Components
│   │   │   ├── admin/       # Admin Dashboard Components
│   │   │   │   ├── AdminDashboard.jsx
│   │   │   │   ├── AdminStats.jsx
│   │   │   │   ├── QuestionManagement.jsx
│   │   │   │   └── PlayerManagement.jsx
│   │   │   ├── Quiz.jsx
│   │   │   ├── QuizSelector.jsx
│   │   │   ├── PlayerNameSetup.jsx
│   │   │   ├── Resutl.jsx
│   │   │   └── Review.jsx
│   │   ├── services/        # API Services
│   │   │   ├── quizAPI.js
│   │   │   └── adminAPI.js
│   │   ├── styles/          # CSS Styles
│   │   │   ├── api-integration.css
│   │   │   └── admin.css
│   │   ├── App.jsx
│   │   ├── main.jsx
│   │   └── index.css
│   ├── public/
│   ├── package.json
│   ├── vite.config.js
│   └── index.html
├── backend/                 # Backend Node.js + Express
│   ├── models/              # MongoDB Models
│   │   ├── Question.js
│   │   └── Score.js
│   ├── routes/              # API Routes
│   │   ├── quiz.js
│   │   ├── score.js
│   │   └── admin.js
│   ├── scripts/             # Utility Scripts
│   │   └── seedData.js
│   ├── server.js
│   ├── package.json
│   ├── env.example
│   └── README.md
├── INTEGRATION_GUIDE.md
└── README.md
```

## 🚀 Tính năng chính

### 🎮 Frontend (ReactJS)
- **Quiz System**: Hệ thống quiz với nhiều danh mục
- **Player Name Setup**: Đặt tên người chơi với kiểm tra trùng lặp
- **Random Name Generator**: Tạo tên ngẫu nhiên với timestamp để tránh trùng
- **Leaderboard**: Bảng xếp hạng top người chơi
- **Admin Dashboard**: Giao diện quản trị đầy đủ

### 🔧 Backend (Node.js + Express)
- **RESTful API**: API endpoints chuẩn REST
- **MongoDB Integration**: Kết nối MongoDB Atlas
- **Admin Authentication**: Xác thực admin với API key
- **CRUD Operations**: Thêm, sửa, xóa câu hỏi và người chơi
- **Statistics**: Thống kê chi tiết và báo cáo

### 🎛️ Admin Features
- **Question Management**: Quản lý câu hỏi (CRUD)
- **Player Management**: Quản lý người chơi và điểm số
- **Statistics Dashboard**: Thống kê tổng quan và chi tiết
- **Category Management**: Quản lý danh mục câu hỏi
- **Real-time Data**: Dữ liệu real-time với pagination

## 📋 Yêu cầu hệ thống

- Node.js >= 16.0.0
- MongoDB Atlas account
- npm hoặc yarn

## 🛠️ Cài đặt và chạy

### 1. Cài đặt Backend

```bash
cd backend
npm install
cp env.example .env
# Cập nhật .env với thông tin MongoDB Atlas và ADMIN_KEY
npm run seed  # Migrate dữ liệu
npm run dev   # Chạy backend
```

### 2. Cài đặt Frontend

```bash
cd frontend
npm install
npm run dev   # Chạy frontend
```

### 3. Truy cập ứng dụng

- **Frontend**: http://localhost:5173
- **Backend API**: http://localhost:5000/api
- **Admin Dashboard**: Click nút "🎛️ Admin" trên frontend

## 🔐 Admin Access

Để truy cập Admin Dashboard:
1. Click nút "🎛️ Admin" trên giao diện chính
2. Nhập Admin Key (được cấu hình trong backend/.env)
3. Truy cập các tính năng quản trị

## 📊 API Endpoints

### Public Endpoints
- `GET /api/quiz` - Lấy danh mục
- `GET /api/quiz/:category` - Lấy câu hỏi theo danh mục
- `POST /api/score` - Lưu điểm người chơi
- `GET /api/score/leaderboard` - Lấy bảng xếp hạng

### Admin Endpoints (Cần Admin Key)
- `GET /api/admin/stats` - Thống kê tổng quan
- `GET /api/admin/questions` - Quản lý câu hỏi
- `POST /api/admin/questions` - Thêm câu hỏi
- `PUT /api/admin/questions/:id` - Cập nhật câu hỏi
- `DELETE /api/admin/questions/:id` - Xóa câu hỏi
- `GET /api/admin/players` - Quản lý người chơi
- `DELETE /api/admin/players/:name` - Xóa người chơi

## 🎯 Tính năng đặc biệt

### Random Name System
- Tên ngẫu nhiên với timestamp để tránh trùng lặp
- Format: `TênBase_1234` (4 số cuối của timestamp)
- 12 tên base có sẵn

### Admin Authentication
- Sử dụng API Key trong header `x-admin-key`
- Lưu trữ trong localStorage cho session
- Bảo mật cao với middleware authentication

### Real-time Statistics
- Thống kê tổng quan: tổng câu hỏi, người chơi, lượt chơi
- Phân bố theo danh mục
- Hoạt động theo ngày (30 ngày gần nhất)
- Top người chơi xuất sắc

## 🔧 Cấu hình Environment

### Backend (.env)
```env
PORT=5000
NODE_ENV=development
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/quiz_app?retryWrites=true&w=majority
FRONTEND_URL=http://localhost:5173
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
ADMIN_KEY=your-secret-admin-key-here
```

## 📱 Responsive Design

- Tối ưu cho desktop và mobile
- Admin dashboard responsive
- Touch-friendly interface
- Modern UI với glassmorphism effects

## 🚀 Deployment

### Backend (Render.com)
1. Connect GitHub repository
2. Chọn "Web Service"
3. Build Command: `npm install`
4. Start Command: `npm start`
5. Set environment variables

### Frontend (Vercel/Netlify)
1. Connect repository
2. Build Command: `npm run build`
3. Output Directory: `dist`
4. Update API_BASE_URL trong services

## 🐛 Troubleshooting

### Lỗi kết nối MongoDB
- Kiểm tra connection string
- Kiểm tra IP whitelist
- Kiểm tra database user permissions

### Admin không đăng nhập được
- Kiểm tra ADMIN_KEY trong .env
- Kiểm tra header `x-admin-key` trong request

### CORS errors
- Kiểm tra FRONTEND_URL trong backend .env
- Đảm bảo frontend chạy trên đúng port

## 📝 License

MIT License

## 👥 Contributing

1. Fork repository
2. Tạo feature branch
3. Commit changes
4. Push to branch
5. Tạo Pull Request

## 📞 Support

Nếu có vấn đề, vui lòng tạo issue trên GitHub repository.